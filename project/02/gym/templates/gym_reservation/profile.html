{% extends 'base.html' %}

{% block title %}
    Your Profile
{% endblock %}

{% block content %}
<main class="container mt-4">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <h2 class="text-center">Profile</h2>
            <div class="card p-4">
                <!-- Profile Picture Section -->
                {% if user.profile.profile_picture %}
                    <img src="{{ user.profile.profile_picture.url }}" class="img-fluid rounded mx-auto d-block mb-3" alt="Profile Picture">
                {% else %}
                    <img src="https://via.placeholder.com/150" class="img-fluid rounded mx-auto d-block mb-3" alt="No Profile Picture">
                {% endif %}

                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <div class="form-group text-center">
                        <button type="submit" class="btn btn-success">Update Profile</button>
                    </div>
                </form>

                <!-- User Information -->
                <p><strong>Username:</strong> {{ user.username }}</p>
                <p><strong>Email:</strong> {{ user.email }}</p>
                <p><strong>Apartment Number:</strong> {{ user.profile.apartment_number }}</p>
                <p><strong>Building:</strong> {{ user.profile.bio }}</p>

                <!-- Social Media Links -->
                {% if user.profile.twitter %}
                    <p><strong>Twitter:</strong> <a href="{{ user.profile.twitter }}" target="_blank">{{ user.profile.twitter }}</a></p>
                {% endif %}
                {% if user.profile.linkedin %}
                    <p><strong>LinkedIn:</strong> <a href="{{ user.profile.linkedin }}" target="_blank">{{ user.profile.linkedin }}</a></p>
                {% endif %}
                {% if user.profile.github %}
                    <p><strong>GitHub:</strong> <a href="{{ user.profile.github }}" target="_blank">{{ user.profile.github }}</a></p>
                {% endif %}
            </div>
        </div>
    </div>
</main>
{% endblock %}